procedure
refgbl $echo
refgbl $autousage
refgbl $syschar
body
let $autousage = "none"
let _onfail="continue"
let $echo="yes"


! basic case 

gen xxxim1 nl=4 ns=5 linc=3 sinc=7
gen xxxim2 nl=4 ns=5 linc=11 sinc=5

difnear (xxxim1,xxxim2) xxxim3 'add128

list xxxim1 'zeroes
list xxxim2 'zeroes
list xxxim3 'zeroes

! halfpix case

difnear (xxxim1,xxxim2) xxxim3 'halfpix 'absval

list xxxim1 'zeroes
list xxxim2 'zeroes
list xxxim3 'zeroes

! abs val case

difnear (xxxim1,xxxim2) xxxim3 'absval

list xxxim1 'zeroes
list xxxim2 'zeroes
list xxxim3 'zeroes

! window=5

difnear (xxxim1,xxxim2) xxxim3 window=5 'absval

list xxxim1 'zeroes
list xxxim2 'zeroes
list xxxim3 'zeroes

theend>
end-proc
