let _onfail="stop"
translog INP=AFIDS_ROOT TRANS=afidsroot
translog INP=AFIDS_TESTDATA TRANS=aftestdata
if (afidsroot = "")
else
    if (aftestdata = "")
    else
        ush ln -s $AFIDS_TESTDATA/vicar_test_images/testdata/carto ct
    end-if
end-if
let _onfail="goto rm"
gen xxxim0 nl=10 ns=10
Beginning VICAR task gen
GEN Version 6
GEN task completed
f2 inp=xxxim0 out=xxxim1  +
    func="(abs(line-5.5)<3)*(abs(samp-5.5)<3)"
Beginning VICAR task f2
F2 version 24-Sep-2013 (64-bit) - RJB
F2 calculating every pixel
FUNCTION EVALUATED 100 TIMES
list xxxim1 'zer
Beginning VICAR task list

   BYTE     samples are interpreted as   BYTE   data
 Task:GEN       User:afids_te  Date_Time:Sat Jan  1 00:00:00 2000
 Task:F2        User:afids_te  Date_Time:Sat Jan  1 00:00:00 2000
     Samp     1       3       5       7       9
   Line
      1       0   0   0   0   0   0   0   0   0   0
      2       0   0   0   0   0   0   0   0   0   0
      3       0   0   1   1   1   1   1   1   0   0
      4       0   0   1   1   1   1   1   1   0   0
      5       0   0   1   1   1   1   1   1   0   0
      6       0   0   1   1   1   1   1   1   0   0
      7       0   0   1   1   1   1   1   1   0   0
      8       0   0   1   1   1   1   1   1   0   0
      9       0   0   0   0   0   0   0   0   0   0
     10       0   0   0   0   0   0   0   0   0   0
imcorner xxxim1 line1=l1 samp1=s1 line2=l2 samp2=s2  +
                line3=l3 samp3=s3 line4=l4 samp4=s4 inside=1  +
                sldat=sl ssdat=ss nldat=nl nsdat=ns
Beginning VICAR task imcorner
imcorner version Wed Feb 3 2016
write "c1 4.000000000000e+00 4.000000000000e+00"
c1 4.000000000000e+00 4.000000000000e+00
write "c2 4.000000000000e+00 7.000000000000e+00"
c2 4.000000000000e+00 7.000000000000e+00
write "c3 7.000000000000e+00 4.000000000000e+00"
c3 7.000000000000e+00 4.000000000000e+00
write "c4 7.000000000000e+00 7.000000000000e+00"
c4 7.000000000000e+00 7.000000000000e+00
write "sl,ss 4 4"
sl,ss 4 4
write "nl,ns 4 4"
nl,ns 4 4
gen xxxim0 nl=10 ns=10
Beginning VICAR task gen
GEN Version 6
GEN task completed
f2 inp=xxxim0 out=xxxim1  +
    func="(abs(line-5.5)<3)*(abs(samp-5.5)<3)"
Beginning VICAR task f2
F2 version 24-Sep-2013 (64-bit) - RJB
F2 calculating every pixel
FUNCTION EVALUATED 100 TIMES
list xxxim1 'zer
Beginning VICAR task list

   BYTE     samples are interpreted as   BYTE   data
 Task:GEN       User:afids_te  Date_Time:Sat Jan  1 00:00:00 2000
 Task:F2        User:afids_te  Date_Time:Sat Jan  1 00:00:00 2000
     Samp     1       3       5       7       9
   Line
      1       0   0   0   0   0   0   0   0   0   0
      2       0   0   0   0   0   0   0   0   0   0
      3       0   0   1   1   1   1   1   1   0   0
      4       0   0   1   1   1   1   1   1   0   0
      5       0   0   1   1   1   1   1   1   0   0
      6       0   0   1   1   1   1   1   1   0   0
      7       0   0   1   1   1   1   1   1   0   0
      8       0   0   1   1   1   1   1   1   0   0
      9       0   0   0   0   0   0   0   0   0   0
     10       0   0   0   0   0   0   0   0   0   0
imcorner xxxim1 line1=l1 samp1=s1 line2=l2 samp2=s2  +
                line3=l3 samp3=s3 line4=l4 samp4=s4
Beginning VICAR task imcorner
imcorner version Wed Feb 3 2016
write "l1,s1 3.000000000000e+00 3.000000000000e+00"
l1,s1 3.000000000000e+00 3.000000000000e+00
write "l2,s2 3.000000000000e+00 8.000000000000e+00"
l2,s2 3.000000000000e+00 8.000000000000e+00
write "l3,s3 8.000000000000e+00 3.000000000000e+00"
l3,s3 8.000000000000e+00 3.000000000000e+00
write "l4,s4 8.000000000000e+00 8.000000000000e+00"
l4,s4 8.000000000000e+00 8.000000000000e+00
gen xxxim0 nl=10 ns=10
Beginning VICAR task gen
GEN Version 6
GEN task completed
f2 inp=xxxim0 out=xxxim1  +
    func="(abs(line-5.5)<3)*(abs(samp-5.5)<3)"
Beginning VICAR task f2
F2 version 24-Sep-2013 (64-bit) - RJB
F2 calculating every pixel
FUNCTION EVALUATED 100 TIMES
gtgen inp=xxxim1 'tiecnvrt  +
   geotiff=("ModelTiePointTag=(0,0,0,.3,.3,0.0)",  +
          "ModelTiePointTag=(10,0,0,.5,.3,0.0)",  +
          "ModelTiePointTag=(0,10,0,.3,.5,0.0)",  +
          "ProjectionGeoKey=20(CT_MillerCylindrical)",  +
          "GTRasterTypeGeoKey=2(RasterPixelIsPoint)",  +
          "GeogEllipsoidGeoKey=7030(Ellipse_WGS84)")
Beginning VICAR task gtgen
gtgen version Fri Jan 11 2008
gtcopy xxxim1 xxxim2 size=(2,2,10,10)
Beginning VICAR task gtcopy
gtcopy version Thu Jan 10 2008
f2 inp=xxxim2 out=xxxim3  +
    func="(abs(line-5.5)<3)*(abs(samp-5.5)<3)"
Beginning VICAR task f2
F2 version 24-Sep-2013 (64-bit) - RJB
F2 calculating every pixel
FUNCTION EVALUATED 100 TIMES
list xxxim1 'zer
Beginning VICAR task list

   BYTE     samples are interpreted as   BYTE   data
 Task:GEN       User:afids_te  Date_Time:Sat Jan  1 00:00:00 2000
 Task:F2        User:afids_te  Date_Time:Sat Jan  1 00:00:00 2000
     Samp     1       3       5       7       9
   Line
      1       0   0   0   0   0   0   0   0   0   0
      2       0   0   0   0   0   0   0   0   0   0
      3       0   0   1   1   1   1   1   1   0   0
      4       0   0   1   1   1   1   1   1   0   0
      5       0   0   1   1   1   1   1   1   0   0
      6       0   0   1   1   1   1   1   1   0   0
      7       0   0   1   1   1   1   1   1   0   0
      8       0   0   1   1   1   1   1   1   0   0
      9       0   0   0   0   0   0   0   0   0   0
     10       0   0   0   0   0   0   0   0   0   0
list xxxim3 'zer
Beginning VICAR task list

   BYTE     samples are interpreted as   BYTE   data
 Task:GEN       User:afids_te  Date_Time:Sat Jan  1 00:00:00 2000
 Task:F2        User:afids_te  Date_Time:Sat Jan  1 00:00:00 2000
     Samp     1       3       5       7       9
   Line
      1       0   0   0   0   0   0   0   0   0   0
      2       0   0   0   0   0   0   0   0   0   0
      3       0   0   1   1   1   1   1   1   0   0
      4       0   0   1   1   1   1   1   1   0   0
      5       0   0   1   1   1   1   1   1   0   0
      6       0   0   1   1   1   1   1   1   0   0
      7       0   0   1   1   1   1   1   1   0   0
      8       0   0   1   1   1   1   1   1   0   0
      9       0   0   0   0   0   0   0   0   0   0
     10       0   0   0   0   0   0   0   0   0   0
imcorner (xxxim1,xxxim3) line1=l1 samp1=s1 line2=l2 samp2=s2  +
                line3=l3 samp3=s3 line4=l4 samp4=s4
Beginning VICAR task imcorner
imcorner version Wed Feb 3 2016
write "c1 5.000000000000e+00 5.000000000000e+00"
c1 5.000000000000e+00 5.000000000000e+00
write "c2 5.000000000000e+00 8.000000000000e+00"
c2 5.000000000000e+00 8.000000000000e+00
write "c3 8.000000000000e+00 5.000000000000e+00"
c3 8.000000000000e+00 5.000000000000e+00
write "c4 8.000000000000e+00 8.000000000000e+00"
c4 8.000000000000e+00 8.000000000000e+00
gen xxxim0 nl=10 ns=10
Beginning VICAR task gen
GEN Version 6
GEN task completed
f2 inp=xxxim0 out=xxxim1  +
    func="(abs(line-5.5)<3)*(abs(samp-5.5)<3)*((samp<7)+(line>4))"
Beginning VICAR task f2
F2 version 24-Sep-2013 (64-bit) - RJB
F2 calculating every pixel
FUNCTION EVALUATED 100 TIMES
list xxxim1 'zer
Beginning VICAR task list

   BYTE     samples are interpreted as   BYTE   data
 Task:GEN       User:afids_te  Date_Time:Sat Jan  1 00:00:00 2000
 Task:F2        User:afids_te  Date_Time:Sat Jan  1 00:00:00 2000
     Samp     1       3       5       7       9
   Line
      1       0   0   0   0   0   0   0   0   0   0
      2       0   0   0   0   0   0   0   0   0   0
      3       0   0   1   1   1   1   0   0   0   0
      4       0   0   1   1   1   1   0   0   0   0
      5       0   0   2   2   2   2   1   1   0   0
      6       0   0   2   2   2   2   1   1   0   0
      7       0   0   2   2   2   2   1   1   0   0
      8       0   0   2   2   2   2   1   1   0   0
      9       0   0   0   0   0   0   0   0   0   0
     10       0   0   0   0   0   0   0   0   0   0
imcorner xxxim1 line1=l1 samp1=s1 line2=l2 samp2=s2  +
                line3=l3 samp3=s3 line4=l4 samp4=s4 inside=0  +
                sldat=sl ssdat=ss nldat=nl nsdat=ns 'corrfoot
Beginning VICAR task imcorner
imcorner version Wed Feb 3 2016
write "c1 5.000000000000e+00 4.000000000000e+00"
c1 5.000000000000e+00 4.000000000000e+00
write "c2 5.000000000000e+00 7.000000000000e+00"
c2 5.000000000000e+00 7.000000000000e+00
write "c3 8.000000000000e+00 4.000000000000e+00"
c3 8.000000000000e+00 4.000000000000e+00
write "c4 8.000000000000e+00 7.000000000000e+00"
c4 8.000000000000e+00 7.000000000000e+00
write "sl,ss 5 4"
sl,ss 5 4
write "nl,ns 4 4"
nl,ns 4 4
imcorner ct/20140826_Day_eco6_mb49_mosaic.hlf line1=l1  +
   samp1=s1 line2=l2 samp2=s2 line3=l3 samp3=s3 line4=l4 samp4=s4  +
   inside=256
Beginning VICAR task imcorner
imcorner version Wed Feb 3 2016
write "l1 8.270000000000e+02"
l1 8.270000000000e+02
write "s1 2.520000000000e+02"
s1 2.520000000000e+02
write "l2 3.090000000000e+02"
l2 3.090000000000e+02
write "s2 2.400000000000e+02"
s2 2.400000000000e+02
write "l3 2.478000000000e+03"
l3 2.478000000000e+03
write "s3 5.941000000000e+03"
s3 5.941000000000e+03
write "l4 1.935000000000e+03"
l4 1.935000000000e+03
write "s4 5.929000000000e+03"
s4 5.929000000000e+03
let $echo="no"
