procedure
refgbl $echo
refgbl $autousage
parm version string def="ibis-2"
parm org string def="column"
body
let _onfail="continue"
let $autousage="none"
let $echo="yes"

fitg test1.hlf test1.img left=1 right=1 mean=128.0 sigma=3.0 'gauss +
   'byte

xvd test1.img

gen out=testin.hlf nl=10 ns=10 format=half
gen out=testin.img nl=10 ns=10 format=byte

# half to half
fitg testin.hlf testout.hlf outmin=0 outmax=18
list testout.hlf

# half to byte
fitg testin.hlf testout.hlf.img outmin=0 outmax=18 'byte
list testout.hlf.img

# byte to byte
fitg testin.img testout.img outmin=0 outmax=18
list testout.img

end-proc
