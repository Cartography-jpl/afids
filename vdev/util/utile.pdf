procedure
parm inp type=(string,99)

local pter type=real
local refimg type=(string,99)
local units type=(string,22)
local vicortif int
local temp type=(string,99)
body

! utility to info satellite pointing error

file2tcl &inp ftype=vicortif
if (vicortif=2)
   let temp = "&inp" // "temp"
   vtiff3-tovic &inp &temp
else-if (vicortif=1)
   let temp = "&inp"
else
   write "MSG: File Problem"
   write "MSG: See VICAR Program file2tcl for ftype=&vicortif"
end-if

plab2tcl &temp property=COREG_META_DATA val=pter +
   keyword=SAT_MODEL_POINTING_ERR vtype=7

if (pter<0.0)
   write "MSG: no satellite model pointing error in label"
else
   plab2tcl &temp property=COREG_META_DATA val=refimg +
       keyword=SAT_MODEL_POINTING_ERR_REF vtype=0
   plab2tcl &temp property=COREG_META_DATA val=units +
       keyword=SAT_MODEL_POINTING_ERR_UNITS vtype=0
   write "MSG: SAT_MODEL_POINTING_ERR IS &pter &units MIN"
   write "MSG: REFERENCE IMAGE WAS &refimg"
end-if

end-proc
